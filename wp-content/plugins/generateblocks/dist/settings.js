(()=>{"use strict";var e={n:t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return e.d(n,{a:n}),n},d:(t,n)=>{for(var s in n)e.o(n,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:n[s]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.React,n=window.wp.i18n,s=window.wp.components,a=window.wp.element,l=window.wp.apiFetch;var o=e.n(l);const r=window.wp.hooks;function c(e,t){void 0!==a.createRoot?(0,a.createRoot)(e).render(t):(0,a.render)(t,e)}function i(){const[e,l]=(0,a.useState)(!1),[r,c]=(0,a.useState)(!1),[i,g]=(0,a.useState)(generateBlocksSettings.useV1Blocks);return(0,a.useEffect)((()=>{l(!0)}),[]),generateBlocksSettings.useV1Blocks?e?(0,t.createElement)(t.Fragment,null,(0,t.createElement)("div",{className:"generateblocks-settings-main"},(0,t.createElement)(s.PanelBody,{title:(0,n.__)("Blocks Version","generateblocks")},(0,t.createElement)("div",{className:"gblocks-dashboard-panel-row-wrapper"},(0,t.createElement)(s.PanelRow,null,(0,t.createElement)(s.ToggleControl,{label:(0,n.__)("Use version 1 blocks","generateblocks"),help:(0,n.__)("Enabling this option will make it so only version 1 blocks display in the block inserter.","generateblocks"),checked:!!i,onChange:e=>g(e)})),(0,t.createElement)("div",{className:"gblocks-action-button"},(0,t.createElement)(s.Button,{isPrimary:!0,disabled:!!r,onClick:e=>async function(e,t,n){c(!0);const s=e.target.nextElementSibling;await o()({path:"/generateblocks/v1/setting",method:"POST",data:{name:"gb_use_v1_blocks",value:n}}).then((e=>{c(!1),s.classList.add("gblocks-action-message--show"),s.textContent=e.response,e.success&&e.response?setTimeout((function(){s.classList.remove("gblocks-action-message--show")}),3e3):s.classList.add("gblocks-action-message--error")}))}(e,0,i)},!!r&&(0,t.createElement)(s.Spinner,null),!r&&(0,n.__)("Save","generateblocks")),(0,t.createElement)("span",{className:"gblocks-action-message"})))))):(0,t.createElement)(s.Placeholder,{className:"gblocks-settings-placeholder"},(0,t.createElement)(s.Spinner,null)):null}function g(){const[e,l]=(0,a.useState)(!1),[c,i]=(0,a.useState)(!1),[g,m]=(0,a.useState)(!1),[d,b]=(0,a.useState)(generateBlocksSettings.settings);function k(e,t){let n=t;return void 0!==d[e]&&(n=d[e]),n}return(0,a.useEffect)((()=>{l(!0)}),[]),e?(0,t.createElement)(a.Fragment,null,(0,t.createElement)("div",{className:"generateblocks-settings-main"},(0,r.applyFilters)("generateblocks.dashboard.beforeSettings","",this),(0,t.createElement)(s.PanelBody,{title:(0,n.__)("Settings","generateblocks")},(0,t.createElement)("div",{className:"gblocks-dashboard-panel-row-wrapper"},(0,t.createElement)(s.PanelRow,{className:"gblocks-container-width"},(0,t.createElement)("div",{className:"gblocks-units"},"px"),(0,t.createElement)(s.TextControl,{type:"number",label:(0,n.__)("Global max-width","generateblocks"),help:generateBlocksSettings.gpContainerWidth?(0,n.__)("The global max-width is set by GeneratePress in the Customizer.","generateblocks"):(0,n.__)("The global max-width value you can use in your blocks.","generateblocks"),disabled:!!generateBlocksSettings.gpContainerWidth,value:generateBlocksSettings.gpContainerWidth||k("container_width"),onChange:e=>{b({...d,container_width:e})}}),!!generateBlocksSettings.gpContainerWidthLink&&(0,t.createElement)("a",{href:generateBlocksSettings.gpContainerWidthLink,target:"_blank",rel:"noopener noreferrer",style:{fontSize:"12px"}},(0,n.__)("Go to option â†’","generateblocks"))),(0,t.createElement)(s.PanelRow,{className:"gblocks-css-print-method"},(0,t.createElement)(s.SelectControl,{label:(0,n.__)("CSS Print Method","generateblocks"),help:(0,n.__)("Generating your CSS in external files is better for overall performance.","generateblocks"),value:k("css_print_method"),options:[{label:(0,n.__)("External File","generateblocks"),value:"file"},{label:(0,n.__)("Inline Embedding","generateblocks"),value:"inline"}],onChange:e=>{b({...d,css_print_method:e})}})),"file"===k("css_print_method")&&(0,t.createElement)(s.PanelRow,null,(0,t.createElement)(s.BaseControl,{id:"gblocks-regenerate-css",className:"gblocks-regenerate-css",help:(0,n.__)("Force your external CSS files to regenerate next time their page is loaded.","generateblocks")},(0,t.createElement)("div",{className:"gblocks-action-button"},(0,t.createElement)(s.Button,{isSecondary:!0,onClick:e=>{m(!0);const t=e.target.nextElementSibling;o()({path:"/generateblocks/v1/regenerate_css_files",method:"POST"}).then((e=>{m(!1),t.classList.add("gblocks-action-message--show"),t.textContent=e.response,e.success&&e.response?setTimeout((function(){t.classList.remove("gblocks-action-message--show")}),3e3):t.classList.add("gblocks-action-message--error")}))}},g&&(0,t.createElement)(s.Spinner,null),!g&&(0,n.__)("Regenerate CSS Files","generateblocks")),(0,t.createElement)("span",{className:"gblocks-action-message"})))),!!generateBlocksSettings.useV1Blocks&&(0,t.createElement)(a.Fragment,null,(0,t.createElement)(s.PanelRow,null,(0,t.createElement)(s.ToggleControl,{label:(0,n.__)("Sync Responsive Previews","generateblocks"),help:(0,n.__)("Sync our responsive preview controls with the editor responsive previews.","generateblocks"),checked:k("sync_responsive_previews"),onChange:e=>{b({...d,sync_responsive_previews:e})}})),(0,t.createElement)(s.PanelRow,null,(0,t.createElement)(s.ToggleControl,{label:(0,n.__)("Disable Google Fonts","generateblocks"),help:(0,n.__)("Prevent Google Fonts from being called on your website and remove them from the font family lists.","generateblocks"),checked:k("disable_google_fonts"),onChange:e=>{b({...d,disable_google_fonts:e})}}))),(0,r.applyFilters)("generateblocks.dashboard.settings","",{settings:d,setSettings:b}),(0,t.createElement)("div",{className:"gblocks-action-button"},(0,t.createElement)(s.Button,{isPrimary:!0,disabled:c,onClick:e=>function(e){i(!0);const t=e.target.nextElementSibling;o()({path:"/generateblocks/v1/settings",method:"POST",data:{settings:d}}).then((e=>{i(!1),t.classList.add("gblocks-action-message--show"),t.textContent=e.response,e.success&&e.response?setTimeout((function(){t.classList.remove("gblocks-action-message--show")}),3e3):t.classList.add("gblocks-action-message--error")}))}(e)},c&&(0,t.createElement)(s.Spinner,null),!c&&(0,n.__)("Save","generateblocks")),(0,t.createElement)("span",{className:"gblocks-action-message"})))),(0,r.applyFilters)("generateblocks.dashboard.afterSettings","",{setSettings:b,settings:d}))):(0,t.createElement)(s.Placeholder,{className:"gblocks-settings-placeholder"},(0,t.createElement)(s.Spinner,null))}window.addEventListener("DOMContentLoaded",(()=>{c(document.getElementById("gblocks-blocks-version-settings"),(0,t.createElement)(i,null))})),window.addEventListener("DOMContentLoaded",(()=>{c(document.getElementById("gblocks-block-default-settings"),(0,t.createElement)(g,null))}))})();